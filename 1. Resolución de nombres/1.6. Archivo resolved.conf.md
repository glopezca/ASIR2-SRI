# Archivo `resolved.conf`

El archivo `resolved.conf` es parte de **systemd-resolved**, un servicio de resolución de nombres de dominio (DNS) y de cacheo que está integrado en **systemd**, el sistema de inicialización y gestión de servicios en muchas distribuciones de Linux.  
Este archivo se utiliza para configurar el comportamiento del servicio `systemd-resolved`.

---

## Ubicación del archivo

El archivo de configuración principal de `systemd-resolved` se encuentra en:

```bash
/etc/systemd/resolved.conf
```

---

## Función principal de `resolved.conf`

Este archivo permite personalizar cómo `systemd-resolved` resuelve nombres de dominio y maneja las consultas DNS.  
Mediante este archivo, se pueden establecer las opciones para servidores DNS, dominios de búsqueda, y otras configuraciones relacionadas con la resolución de nombres.

---

## Contenido típico de `resolved.conf`

Ejemplo de un archivo típico:

```ini
[Resolve]
DNS=8.8.8.8 1.1.1.1
FallbackDNS=8.8.4.4
Domains=example.com
LLMNR=no
MulticastDNS=no
DNSSEC=yes
Cache=yes
```

---

## Parámetros principales de `resolved.conf`

- **DNS:**  
  Especifica una lista de servidores DNS a utilizar. Se pueden agregar múltiples direcciones IP separadas por espacios.  
  ```bash
  DNS=8.8.8.8 1.1.1.1
  ```

- **FallbackDNS:**  
  Define servidores DNS de respaldo que se utilizan si los especificados en `DNS` fallan.  
  ```bash
  FallbackDNS=8.8.4.4
  ```

- **Domains:**  
  Especifica una lista de dominios de búsqueda. Estos dominios se añaden automáticamente cuando realizas búsquedas de nombres parciales.  
  ```bash
  Domains=example.com
  ```

- **LLMNR (Link-Local Multicast Name Resolution):**  
  Permite o desactiva la resolución de nombres de máquina local mediante LLMNR, que permite resolver nombres en redes locales sin un servidor DNS.  
  ```bash
  LLMNR=no
  ```

- **MulticastDNS:**  
  Controla el uso de Multicast DNS (mDNS), un protocolo para resolver nombres de host en redes locales sin configuración específica.  
  ```bash
  MulticastDNS=no
  ```

- **DNSSEC (DNS Security Extensions):**  
  Habilita la validación de DNSSEC para proteger las consultas DNS de ataques de suplantación.  
  ```bash
  DNSSEC=yes
  ```

- **Cache:**  
  Habilita o desactiva la caché DNS local para acelerar futuras consultas DNS.  
  ```bash
  Cache=yes
  ```

---

## Modificación de `resolved.conf`

1. Abre el archivo de configuración con un editor de texto, por ejemplo:  
   ```bash
   sudo nano /etc/systemd/resolved.conf
   ```

2. Realiza los cambios que necesites en los parámetros.

3. Guarda los cambios y reinicia el servicio `systemd-resolved`:  
   ```bash
   sudo systemctl restart systemd-resolved
   ```

---

## Verificación de la configuración de `systemd-resolved`

Después de hacer cambios en `resolved.conf`, puedes verificar la configuración DNS actual ejecutando:

```bash
systemd-resolve --status
```
