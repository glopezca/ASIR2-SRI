# Activar/desactivar la opción NAT DNS Host Resolver en las NICs de las VMs con servidor DNS {#activardesactivar-la-opción-nat-dns-host-resolver-en-las-nics-de-las-vms-con-servidor-dns style="color: #2c3e50;"}

El comando:

    VBoxManage.exe modifyvm "Ubuntu_Server" --natdnshostresolver1 on

se utiliza para modificar las propiedades de una máquina virtual en
VirtualBox (en este caso, una máquina llamada `Ubuntu_Server`) y activar
la opción **NAT DNS Host Resolver** para la primera interfaz de red
virtual (denotada por `1`).

Igualmente, para desactivar esa opción en esa interfaz de red
escribiremos:

    VBoxManage.exe modifyvm "Ubuntu_Server" --natdnshostresolver1 off

## ¿Qué es NAT DNS Host Resolver?

Cuando una máquina virtual utiliza el modo de red **NAT (Network Address
Translation)**, esta actúa como si estuviera detrás de un router, y las
peticiones de red realizadas por la máquina virtual son manejadas y
redirigidas por el host. Normalmente, VirtualBox utiliza los servidores
DNS del sistema operativo del host para resolver los nombres de dominio
en la máquina virtual.

La opción `--natdnshostresolver1 on` activa una característica que
permite que la máquina virtual use directamente los **servidores DNS del
host** en lugar de los servidores DNS configurados en la máquina
virtual. Esto es útil para asegurarse de que la máquina virtual resuelva
los nombres de dominio de la misma manera que el sistema host.

## Explicación del comando

-   **`VBoxManage.exe`**: Es la herramienta de línea de comandos de
    VirtualBox para administrar las máquinas virtuales.
-   **`modifyvm "Ubuntu_Server"`**: Modifica las propiedades de la
    máquina virtual llamada `Ubuntu_Server`.
-   **`--natdnshostresolver1 on`**: Activa el uso del DNS del host para
    la primera interfaz de red (denotada por el `1`).

## ¿Cuándo es útil usar este comando?

Este comando es útil en los siguientes casos:

-   **Problemas de DNS en la máquina virtual:** Si la máquina virtual
    tiene problemas para resolver nombres de dominio correctamente,
    activar esta opción garantiza que use los mismos servidores DNS que
    el host, lo que puede solucionar problemas de resolución de nombres.
-   **Entornos con configuraciones de DNS específicas en el host:** Si
    el host tiene configuraciones de DNS específicas (como en redes
    corporativas), la máquina virtual puede aprovecharlas al activar
    esta opción.
-   **Pruebas en entornos de red controlados:** En algunos casos, se
    necesita que las máquinas virtuales se comporten exactamente como el
    host en cuanto a la resolución de nombres de dominio, lo que puede
    facilitar pruebas o configuraciones específicas.

## Resumen del comando

Este comando se utiliza para configurar una máquina virtual en
VirtualBox (que utiliza NAT) para que resuelva nombres de dominio usando
los servidores DNS del sistema operativo del host en lugar de los DNS
configurados dentro de la máquina virtual.
